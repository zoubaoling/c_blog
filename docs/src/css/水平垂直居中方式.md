## 元素水平垂直居中的方法

> 面试常问“如何让一个元素在父容器中居中？”——建议先判断父子元素特性（是否定宽高、是否需要响应式、是否多行内容），再从下列方案中挑选。

### 快速选择指南
- **固定尺寸+无兼容要求**：优先 `flex`，语义清晰、适配响应式布局。
- **需要兼容老旧浏览器（IE8-）**：使用定位 + `margin` 或 `transform`，少量代码即可完成。
- **多行多列内容且主副轴都要居中**：考虑 `flex` 或 `grid`，视排版复杂度选择。
- **仅单行文本垂直居中**：父元素 `line-height` 等于高度即可，最轻量。

---

### 1. 绝对定位 + `margin: auto`
**场景**：父子元素均为固定宽高；需要兼容性高的方案。  
**步骤**：
1. 父元素 `position: relative;` 并设置宽高。
2. 子元素 `position: absolute;`，四个方位 `0`，并设置固定宽高。
3. 子元素 `margin: auto;`，浏览器会在四个方向平均分配剩余空间。

```css
.parent {
  position: relative;
  width: 300px;
  height: 300px;
}
.child {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  width: 100px;
  height: 80px;
}
```

> 若只需要主轴居中，可去掉对应方向的约束。

### 2. 绝对定位 + `transform`
**场景**：子元素尺寸未知或自适应内容。  
**步骤**：
1. 父元素 `position: relative;`。
2. 子元素 `position: absolute; top: 50%; left: 50%;`。
3. 使用 `transform: translate(-50%, -50%);` 让元素以自身中心对齐父元素中心。

```css
.parent {
  position: relative;
  width: 60vw;
  height: 40vh;
}
.child {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 16px 24px;
}
```

> `transform` 不会影响文档流尺寸，适用于弹性内容；如需考虑 GPU 合成，可根据场景加 `will-change`.

### 3. `flex` 布局
**场景**：响应式、无需固定宽高、子元素数量不定。  
**步骤**：
1. 父元素 `display: flex;`。
2. 控制主轴对齐：`justify-content`。
3. 控制交叉轴对齐：`align-items`。

```css
.parent {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 200px;
  padding: 24px;
}
.child {
  flex: 0 0 auto; /* 防止被压缩 */
}
```

> 需要多行内容时加 `align-content`；多个子元素分布时可结合 `gap` 调整间距。

### 4. `grid` 布局
**场景**：二维布局、需要控制多个子项同时居中。  
**步骤**：
1. 父元素 `display: grid;`。
2. 通过 `place-items: center;`（等价于 `align-items` + `justify-items`）控制子项居中。

```css
.parent {
  display: grid;
  place-items: center;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  min-height: 240px;
  gap: 16px;
}
.child {
  padding: 12px;
  background: #f5f5f5;
}
```

> `grid` 对单个元素居中与 `flex` 类似，但对复杂的网格布局更易扩展。

### 5. 表格布局（`display: table-cell`）
**场景**：兼容性要求高（IE8），并需要垂直居中多行文本。  
**步骤**：
1. 父元素 `display: table;` 或 `table-cell`。
2. 设置 `vertical-align: middle;` 和 `text-align: center;`。
3. 子元素使用 `display: inline-block;` 以便应用 `text-align`。

```css
.parent {
  display: table;
  width: 300px;
  height: 200px;
  text-align: center;
}
.child {
  display: table-cell;
  vertical-align: middle;
}
```

> drawback：语义不佳，且在自适应布局中可能受限。

---

### 内联元素常用技巧
- **水平居中**：父元素 `text-align: center;` 或在弹性布局中使用 `justify-content: center;`。
- **垂直居中**：
  - 单行文本：父元素 `height` 等于 `line-height`。
  - 多行文本：可使用 `display: table-cell; vertical-align: middle;`，或用 `flex` 包裹。

### 块级元素常用技巧
- **水平居中**：
  - 已知宽度：`margin: 0 auto;`。
  - 未知宽度：`display: inline-block;` + 父元素 `text-align: center;`，或 `flex` + `justify-content: center;`。
- **垂直居中**：
  - `position` + `transform`。
  - `flex` + `align-items: center;`（单行）或 `align-content: center;`（多行）。
  - `grid` + `place-items: center;`。

> 面试提示：回答时先说明选择依据（元素类型、兼容需求、响应式），再补充 2~3 种方案及优缺点，展示思考维度。