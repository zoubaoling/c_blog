## vue的权限处理
- 接口权限，从接口层面，对无权限的请求直接拦截
- 路由权限，没有权限的路由不允许访问
- 菜单权限，没有权限的菜单页面不展示
- 按钮权限，控制页面中无权限的按钮块不展示

### 接口权限
一般来说第一次登陆后，用户的信息会通过cookie或者token在每次发送请求前自动带上，响应拦截器中根据协商的状态码进行处理，登陆状态过期就跳转到登陆页面
```js{4}
axios.interceptors.response.use(res => {
  // code
  router.push('/login')
})
```

### 路由权限 + 菜单权限
路由在前端定义，菜单由接口返回，根据当前登陆的用户信息返回有权限的菜单，在全局路由守卫中router.beforeEach中处理：
  - 还没拿到菜单信息时，通过接口获取用户的菜单信息
  - 有菜单信息，将当前路由的name和菜单的name（或者menuCode）进行比对，存在则有权限允许访问，否则跳转到权限页面。但是需要前端和后端协商码保持一致
便于直接在平台上配置菜单信息，前端不用重新编译，动态获取展示即可

路由也可以由后端接口返回，但是前后端配合更高，在路由导航守卫中获取，然后addRoutes

### 按钮权限
- 直接通过v-if来判断展示，将当前的用户和权限列表比对，或者当前用户的操作权限与当前操作等对比
- 使用自定义指令来处理，具体处理逻辑同上
```js{4}
el.parentNode?.removeChild(el)
```