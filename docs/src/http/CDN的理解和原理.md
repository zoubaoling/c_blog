## 如何理解 CDN？说说实现原理?
`CDN（Content Delivery Network）`: 内容分发网络, 分布在不同区域的边缘节点服务器群组成的分布式网络，根据用户位置分配最近的资源,提高访问速度。其核心是缓存加速：将服务器上的静态内容缓存在 CDN 节点上，用户就近访问即可获取相同内容，从而提升响应并减轻源站压力。访问动态内容时每次仍需回源，CDN 主要解决静态资源的传输效率。

### 原理
#### 没有CDN时，请求资源
- 域名 -> DNS -> IP地址 > 发出请求 > 响应请求

#### 有CDN时，请求资源
1. `本地DNS`解析域名，返回CNAME，指向`CDN专用的DNS服务器`
2. `CDN的DNS服务器`返回`全局负载均衡系统`的IP地址
3. `用户`向`全局负载均衡系统`发起请求
4. `全局负载均衡系统`进行`智能调度`，返回最适合的`边缘节点IP`地址-`负载均衡，智能调度`
   - 根据用户的IP地址，查表得知地理位置，找相对最近的边缘节点
   - 根据用户所在的运营商网络，找相同网络的边缘节点
   - 检查边缘节点的负载情况，找负载较轻的节点
   - 其他，比如节点的“健康状况”、服务能力、带宽、响应时间等
5. 用户就近向`边缘节点`发起请求-`缓存代理`
   - 如果缓存服务器上没有用户想要的内容，这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地
   - 如果有就直接返回

### 作用
- 提高网站加载速度
- 减轻原始服务器的压力
- 增加网站的可用性和可靠性：即使原始服务器遇到问题，用户仍可以从CDN节点获取缓存的内容。此外，CDN能够通过分布式的资源来抵御大规模的流量攻击
- 安全性增强：许多CDN提供额外的安全功能，如DDoS攻击防护、安全证书和其他网络安全服务

### 核心技术
- 负载均衡、智能调度分配边缘节点进行服务
- 缓存代理：缓存命中返回给用户，否则回源
