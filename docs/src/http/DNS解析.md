## DNS协议 是什么？说说DNS 完整的查询过程?
DNS:Domain Names System域名系统，是进行域名和其对应的IP地址进行转换的服务器（翻译官：将域名翻译成IP地址）
由 根DNS服务器、顶级域DNS服务器和权威DNS服务器（二级、三级）组成
域名层次：www.xxx.com
- www: 三级域名
- xxx: 二级域名
- com: 顶级域名
- .: 域名默认的根域名，一般不需要输入

解析顺序: 浏览器缓存 > 操作系统缓存 > 本地 DNS 缓存 (/etc/hosts) 逐级查找 > 根 DNS > 顶级 DNS > 权威DNS层层递归查询。
1. 查看`浏览器DNS缓存`是否有对应IP，如果找到直接返回，没有找到继续下一步
2. 没有就搜索`操作系统缓存`，如果有，直接返回
3. 没有就搜索`本地DNS服务`，如果有，直接返回
4. 没有就向上级服务器查询
  1. 首先`本地域名服务器`向`根域名服务器`发起请求，根域名服务器会返回一个`顶级域名服务器`地址
  2. `本地DNS服务器`向`顶级域名服务器`发送请求，获取`权威DNS服务器`地址
  3. `本地DNS服务器`向`权威DNS服务器`发送请求，获取域名对应的`IP`地址
6. `本地DNS服务器`将IP返回给`操作系统`并缓存，方便下次查询。
7. `操作系统`将IP返回给`浏览器`并缓存
8. `浏览器`得到IP并缓存

还可以基于域名在内网、外网进行负载均衡。

