## 什么是HTTP? HTTP 和 HTTPS 的区别?
### 区别
1. HTTPS是HTTP协议的安全版本
     - HTTP协议的数据传输是`明文`的，是不安全的
     - HTTPS使用了`SSL/TLS协议`进行了加密处理，相对更安全
2. HTTP和HTTPS使用连接方式不同，默认端口也不一样，HTTP是80，HTTPS是443
3. HTTPS需要CA证书，HTTP不需要
4. HTTPS由于需要涉及加密以及多次握手，性能方面不如HTTP

### HTTP
`HTTP (HyperText Transfer Protocol)` 超文本传输协议，是实现网络通信的一种规范, 常用于浏览器和服务器之间传递信息，以明文方式发送内容，不进行数据加密
#### 特点
  - 支持客户端/服务器模式
  - `无连接` 无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间
  - `无状态` HTTP协议无法根据之前的状态进行本次的请求处理
  - `灵活` HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记
  - 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快

### HTTPS
HTTPS就是在`HTTP和TCP协议中间`加入了SSL/TLS安全套接层，即`HTTPS = HTTP + SSL/TLS`
  - 通过SSL`证书`来`验证`服务器的身份
  - 并为浏览器和服务器之间的通信进行`加密`（传输层）

#### 实现
::: tip
**对称加密(会话消息) + 非对称加密(对称密钥) + 数字证书(身份验证+数据完整性)**
:::
1. 浏览器发起HTTPS请求
2. 客户端将数字证书（包含公钥）返回给浏览器
3. 浏览器确认身份-数字证书 = 基础信息（公钥、HASH算法、个人信息、其他信息）+ 数字签名
     - CA: 基础信息 > hash算法 > 消息摘要 > 用CA(证书颁发机构)的私钥加密 > 数字签名
     - 验证: 使用相同的hash算法将基础信息`生成消息摘要`，再使用CA的公钥对数字签名解密得到`CA创建的消息摘要`，将二者对比
4. 浏览器`随机产生对称密钥`/会话密钥，用于加解密会话消息
5. 浏览器使用`公钥`对对称密钥加密，然后将`加密后的对称密钥`发送给服务器
6. 服务器使用`私钥`解密获得`对称密钥`
7. 服务器使用对称密钥加密会话消息并发送给浏览器
8. 浏览器使用对称密钥解密密文获取消息

#### 方案要点
1. 只有对称加密-对数据加密，机密性
   - 如果一开始发送对称密钥就被拦截，消息仍然会被窥视和篡改
2. 只有非对称加密-对对称密钥加密
   - RSA算法比较慢
3. 对称加密 + 非对称加密
   - 即时拦截了数据没有私钥也无法篡改，且块
4. 数字证书-确认身份
   - 中间人攻击，发送证书（公钥）时可能会被拦截篡改，浏览器收到的就是错误的公钥
   - 引入数字证书，将证书机构生成的消息摘要和自己生成的消息摘要对比

#### CA证书流程
1. 证书申请者在自己的服务器上生成一个公钥和私钥
2. 创建证书签名请求：公钥 + 组织标识信息（网站地址、公司名称等）
3. 提交申请给证书颁发机构CA，CA验证申请者的信息和其他信息
4. 验证通过，CA使用CA的私钥对申请者的公钥、HASH算法、公司信息和其他信息进行签名，生成数字证书（基本信息+签名）并返回给申请者
   - HASH算法是在创建证书时指定的，并作为证书的一部分
5. 申请者将证书安装在服务器上、操作系统或浏览器中(浏览器使用的CA公钥就是从安装的证书中获取，从而对证书的签名解密)


